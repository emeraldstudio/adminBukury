{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{\"3zLz\":function(e,t,n){\"use strict\";n.d(t,\"a\",function(){return i});var i=function(){function e(){}return e.prototype.ngOnInit=function(){},e}()},\"8nGR\":function(e,t,n){var i;!function(e){\"use strict\";var t=e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype,n=e.Blob&&function(){try{return Boolean(new Blob)}catch(e){return!1}}(),i=n&&e.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(e){return!1}}(),r=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,a=(n||r)&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&function(e){var t,a,o,s,l,u;for(t=e.split(\",\")[0].indexOf(\"base64\")>=0?atob(e.split(\",\")[1]):decodeURIComponent(e.split(\",\")[1]),a=new ArrayBuffer(t.length),o=new Uint8Array(a),s=0;s<t.length;s+=1)o[s]=t.charCodeAt(s);return l=e.split(\",\")[0].split(\":\")[1].split(\";\")[0],n?new Blob([i?o:a],{type:l}):((u=new r).append(a),u.getBlob(l))};e.HTMLCanvasElement&&!t.toBlob&&(t.mozGetAsFile?t.toBlob=function(e,n,i){e(i&&t.toDataURL&&a?a(this.toDataURL(n,i)):this.mozGetAsFile(\"blob\",n))}:t.toDataURL&&a&&(t.toBlob=function(e,t,n){e(a(this.toDataURL(t,n)))})),e.dataURLtoBlob=a}(window),function(e,t){\"use strict\";var n,i,r=1,a=function(){},o=e.document,s=o.doctype||{},l=e.navigator.userAgent,u=/safari\\//i.test(l)&&!/chrome\\//i.test(l),c=/iemobile\\//i.test(l),d=!u&&/chrome\\//i.test(l)&&\"http:\"===e.location.protocol,f=e.createObjectURL&&e||e.URL&&URL.revokeObjectURL&&URL||e.webkitURL&&webkitURL,p=e.Blob,h=e.FileReader,m=e.XMLHttpRequest,g=e.jQuery,v=!(!(e.File&&h&&(e.Uint8Array||e.FormData||m.prototype.sendAsBinary))||u&&/windows/i.test(l)&&!c),y=v&&\"withCredentials\"in new m,w=v&&!!p&&!!(p.prototype.webkitSlice||p.prototype.mozSlice||p.prototype.slice),b=(\"\"+\"\".normalize).indexOf(\"[native code]\")>0,x=e.dataURLtoBlob,F=/img/i,A=/canvas/i,I=/img|canvas/i,T=/input/i,R=/^data:[^,]+,/,E={}.toString,C=e.Math,D=function(t){return(t=new e.Number(C.pow(1024,t))).from=function(e){return C.round(e*this)},t},S={},k=[],O=\"abort progress error load loadend\",_=\"status statusText readyState response responseXML responseText responseBody\".split(\" \"),P=function(e){return e&&\"length\"in e},U=function(e,t,n){if(e)if(P(e))for(var i=0,r=e.length;i<r;i++)i in e&&t.call(n,e[i],i,e);else for(var a in e)e.hasOwnProperty(a)&&t.call(n,e[a],a,e)},L=function(e){for(var t=arguments,n=1,i=function(t,n){e[n]=t};n<t.length;n++)U(t[n],i);return e},B=function(e,t,n){if(e){var i=M.uid(e);S[i]||(S[i]={});var r=h&&e&&e instanceof h;U(t.split(/\\s+/),function(t){g&&!r?g.event.add(e,t,n):(S[i][t]||(S[i][t]=[]),S[i][t].push(n),e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent(\"on\"+t,n):e[\"on\"+t]=n)})}},z=function(e,t,n){if(e){var i=M.uid(e),r=S[i]||{},a=h&&e&&e instanceof h;U(t.split(/\\s+/),function(t){if(g&&!a)g.event.remove(e,t,n);else{for(var i=r[t]||[],o=i.length;o--;)if(i[o]===n){i.splice(o,1);break}e.addEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent(\"on\"+t,n):e[\"on\"+t]=null}})}},j=function(e,t,n){B(e,t,function i(r){z(e,t,i),n(r)})},H=function(t){return t.target||(t.target=e.event&&e.event.srcElement||o),3===t.target.nodeType&&(t.target=t.target.parentNode),t},N=function(e){var t=o.createElement(\"input\");return t.setAttribute(\"type\",\"file\"),e in t},M={version:\"2.0.25\",cors:!1,html5:!0,media:!1,formData:!0,multiPassResize:!0,insecureChrome:d,debug:!1,pingUrl:!1,multiFlash:!1,flashAbortTimeout:0,withCredentials:!0,staticPath:\"./dist/\",flashUrl:0,flashImageUrl:0,postNameConcat:function(e,t){return e+(null!=t?\"[\"+t+\"]\":\"\")},ext2mime:{jpg:\"image/jpeg\",tif:\"image/tiff\",txt:\"text/plain\"},accept:{\"image/*\":\"art bm bmp dwg dxf cbr cbz fif fpx gif ico iefs jfif jpe jpeg jpg jps jut mcf nap nif pbm pcx pgm pict pm png pnm qif qtif ras rast rf rp svf tga tif tiff xbm xbm xpm xwd\",\"audio/*\":\"m4a flac aac rm mpa wav wma ogg mp3 mp2 m3u mod amf dmf dsm far gdm imf it m15 med okt s3m stm sfx ult uni xm sid ac3 dts cue aif aiff wpl ape mac mpc mpp shn wv nsf spc gym adplug adx dsp adp ymf ast afc hps xs\",\"video/*\":\"m4v 3gp nsv ts ty strm rm rmvb m3u ifo mov qt divx xvid bivx vob nrg img iso pva wmv asf asx ogm m2v avi bin dat dvr-ms mpg mpeg mp4 mkv avc vp3 svq3 nuv viv dv fli flv wpl\"},uploadRetry:0,networkDownRetryTimeout:5e3,chunkSize:0,chunkUploadRetry:0,chunkNetworkDownRetryTimeout:2e3,KB:D(1),MB:D(2),GB:D(3),TB:D(4),EMPTY_PNG:\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQIW2NkAAIAAAoAAggA9GkAAAAASUVORK5CYII=\",expando:\"fileapi\"+(new Date).getTime(),uid:function(e){return e?e[M.expando]=e[M.expando]||M.uid():M.expando+ ++r},log:function(){M.debug&&n&&(i?console.log.apply(console,arguments):console.log([].join.call(arguments,\" \")))},newImage:function(e,t){var n=o.createElement(\"img\");return t&&M.event.one(n,\"error load\",function(e){t(\"error\"==e.type,n),n=null}),n.src=e,n},getXHR:function(){var t;if(m)t=new m;else if(e.ActiveXObject)try{t=new ActiveXObject(\"MSXML2.XMLHttp.3.0\")}catch(n){t=new ActiveXObject(\"Microsoft.XMLHTTP\")}return t},isArray:P,support:{dnd:y&&\"ondrop\"in o.createElement(\"div\"),cors:y,html5:v,chunked:w,dataURI:!0,accept:N(\"accept\"),multiple:N(\"multiple\")},event:{on:B,off:z,one:j,fix:H},throttle:function(t,n){var i,r;return function(){r=arguments,i||(t.apply(e,r),i=setTimeout(function(){i=0,t.apply(e,r)},n))}},F:function(){},parseJSON:function(t){return e.JSON&&JSON.parse?JSON.parse(t):new Function(\"return (\"+t.replace(/([\\r\\n])/g,\"\\\\$1\")+\");\")()},trim:function(e){return(e=String(e)).trim?e.trim():e.replace(/^\\s+|\\s+$/g,\"\")},defer:function(){var e,n,i=[],r={resolve:function(t,o){for(r.resolve=a,n=t||!1,e=o;o=i.shift();)o(n,e)},then:function(r){n!==t?r(n,e):i.push(r)}};return r},queue:function(e){var t=0,n=0,i=!1,r=!1,a={inc:function(){n++},next:function(){t++,setTimeout(a.check,0)},check:function(){t>=n&&!i&&a.end()},isFail:function(){return i},fail:function(){!i&&e(i=!0)},end:function(){r||(r=!0,e())}};return a},each:U,afor:function(e,t){var n=0,i=e.length;P(e)&&i--?function r(){t(i!=n&&r,e[n],n++)}():t(!1)},extend:L,isFile:function(e){return\"[object File]\"===E.call(e)},isBlob:function(e){return this.isFile(e)||\"[object Blob]\"===E.call(e)},isCanvas:function(e){return e&&A.test(e.nodeName)},getFilesFilter:function(e){return(e=\"string\"==typeof e?e:e.getAttribute&&e.getAttribute(\"accept\")||\"\")?new RegExp(\"(\"+e.replace(/\\./g,\"\\\\.\").replace(/,/g,\"|\")+\")$\",\"i\"):/./},readAsDataURL:function(e,t){M.isCanvas(e)?q(e,t,\"load\",M.toDataURL(e)):G(e,t,\"DataURL\")},readAsBinaryString:function(e,t){X(\"BinaryString\")?G(e,t,\"BinaryString\"):G(e,function(e){if(\"load\"==e.type)try{e.result=M.toBinaryString(e.result)}catch(n){e.type=\"error\",e.message=n.toString()}t(e)},\"DataURL\")},readAsArrayBuffer:function(e,t){G(e,t,\"ArrayBuffer\")},readAsText:function(e,t,n){n||(n=t,t=\"utf-8\"),G(e,n,\"Text\",t)},toDataURL:function(e,t){return\"string\"==typeof e?e:e.toDataURL?e.toDataURL(t||\"image/png\"):void 0},toBinaryString:function(t){return e.atob(M.toDataURL(t).replace(R,\"\"))},readAsImage:function(e,n,i){if(M.isBlob(e))if(f){var r=f.createObjectURL(e);r===t?q(e,n,\"error\"):M.readAsImage(r,n,i)}else M.readAsDataURL(e,function(t){\"load\"==t.type?M.readAsImage(t.result,n,i):(i||\"error\"==t.type)&&q(e,n,t,null,{loaded:t.loaded,total:t.total})});else if(M.isCanvas(e))q(e,n,\"load\",e);else if(F.test(e.nodeName))e.complete?q(e,n,\"load\",e):j(e,\"error abort load\",function t(i){\"load\"==i.type&&f&&f.revokeObjectURL(e.src),z(e,\"error abort load\",t),q(e,n,i,e)});else if(e.iframe)q(e,n,{type:\"error\"});else{var a=M.newImage(e.dataURL||e);M.readAsImage(a,n,i)}},checkFileObj:function(e){var t={},n=M.accept;return\"object\"==typeof e?t=e:t.name=(e+\"\").split(/\\\\|\\//g).pop(),null==t.type&&(t.type=t.name.split(\".\").pop()),U(n,function(e,n){((e=new RegExp(e.replace(/\\s/g,\"|\"),\"i\")).test(t.type)||M.ext2mime[t.type])&&(t.type=M.ext2mime[t.type]||n.split(\"/\")[0]+\"/\"+t.type)}),t},getDropFiles:function(e,t){var n,i=[],r=[],a=V(e),o=a.files,s=a.items,l=P(s)&&s[0]&&K(s[0]),c=M.queue(function(){t(i,r)});if(l)if(b&&o){var d,f,p=o.length;for(n=new Array(p);p--;){d=o[p];try{f=K(s[p])}catch(m){M.log(\"[err] getDropFiles: \",m),f=null}n[p]=W(f)&&(f.isDirectory||f.isFile&&d.name==d.name.normalize(\"NFC\"))?f:d}}else n=s;else n=o;U(n||[],function(e){c.inc();try{l&&W(e)?function e(t,n){if(t)if(t.isFile)t.file(function(e){e.fullPath=t.fullPath,n(!1,[e],[e])},function(e){t.error=e,n(\"FileError.code: \"+e.code,[],[t])});else if(t.isDirectory){var i=t.createReader(),r=!0,a=[],o=[t],s=function(e){t.error=e,n(\"DirectoryError.code: \"+e.code,a,o)};i.readEntries(function e(l){r&&(r=!1,l.length||(t.error=new Error(\"directory is empty\"))),l.length?M.afor(l,function(t,n){!function e(t,n){if(t)if(t.isFile)t.file(function(e){e.fullPath=t.fullPath,n(!1,[e],[e])},function(e){t.error=e,n(\"FileError.code: \"+e.code,[],[t])});else if(t.isDirectory){var i=t.createReader(),r=!0,a=[],o=[t],s=function(e){t.error=e,n(\"DirectoryError.code: \"+e.code,a,o)};i.readEntries(function l(u){r&&(r=!1,u.length||(t.error=new Error(\"directory is empty\"))),u.length?M.afor(u,function(t,n){e(n,function(e,n,r){e||(a=a.concat(n)),o=o.concat(r),t?t():i.readEntries(l,s)})}):n(!1,a,o)},s)}else e(K(t),n);else{var l=new Error(\"invalid entry\");(t=new Object(t)).error=l,n(l.message,[],[t])}}(n,function(n,r,l){n||(a=a.concat(r)),o=o.concat(l),t?t():i.readEntries(e,s)})}):n(!1,a,o)},s)}else e(K(t),n);else{var l=new Error(\"invalid entry\");(t=new Object(t)).error=l,n(l.message,[],[t])}}(e,function(e,t,n){e?M.log(\"[err] getDropFiles:\",e):i.push.apply(i,t),r.push.apply(r,n),c.next()}):function(e,t){if(!e.type&&(u||e.size%4096==0&&e.size<=102400))if(h)try{var n=new h;j(n,O,function(e){var i=\"error\"!=e.type;i?(null!=n.readyState&&n.readyState!==n.LOADING||n.abort(),t(i)):t(!1,n.error)}),n.readAsDataURL(e)}catch(m){t(!1,m)}else t(null,new Error(\"FileReader is not supported\"));else t(!0)}(e,function(t,n){t?i.push(e):e.error=n,r.push(e),c.next()})}catch(m){c.next(),M.log(\"[err] getDropFiles: \",m)}}),c.check()},getFiles:function(e,t,n){var i=[];return n?(M.filterFiles(M.getFiles(e),t,n),null):(e.jquery&&(e.each(function(){i=i.concat(M.getFiles(this))}),e=i,i=[]),\"string\"==typeof t&&(t=M.getFilesFilter(t)),e.originalEvent?e=H(e.originalEvent):e.srcElement&&(e=H(e)),e.dataTransfer?e=e.dataTransfer:e.target&&(e=e.target),e.files?(i=e.files,v||(i[0].blob=e,i[0].iframe=!0)):!v&&J(e)?M.trim(e.value)&&((i=[M.checkFileObj(e.value)])[0].blob=e,i[0].iframe=!0):P(e)&&(i=e),M.filter(i,function(e){return!t||t.test(e.name)}))},getTotalSize:function(e){for(var t=0,n=e&&e.length;n--;)t+=e[n].size;return t},getInfo:function(e,t){var n={},i=k.concat();M.isBlob(e)?function r(){var a=i.shift();a?a.test(e.type)?a(e,function(e,i){e?t(e):(L(n,i),r())}):r():t(!1,n)}():t(\"not_support_info\",n)},addInfoReader:function(e,t){t.test=function(t){return e.test(t)},k.push(t)},filter:function(e,t){for(var n,i=[],r=0,a=e.length;r<a;r++)r in e&&t.call(n=e[r],n,r,e)&&i.push(n);return i},filterFiles:function(e,t,n){if(e.length){var i,r=e.concat(),a=[],o=[];!function e(){r.length?(i=r.shift(),M.getInfo(i,function(n,r){(t(i,!n&&r)?a:o).push(i),e()})):n(a,o)}()}else n([],e)},upload:function(e){(e=L({jsonp:\"callback\",prepare:M.F,beforeupload:M.F,upload:M.F,fileupload:M.F,fileprogress:M.F,filecomplete:M.F,progress:M.F,complete:M.F,pause:M.F,imageOriginal:!0,chunkSize:M.chunkSize,chunkUploadRetry:M.chunkUploadRetry,uploadRetry:M.uploadRetry},e)).imageAutoOrientation&&!e.imageTransform&&(e.imageTransform={rotate:\"auto\"});var t,n=new M.XHR(e),i=this._getFilesDataArray(e.files),r=this,o=0,s=0,l=!1;return U(i,function(e){o+=e.size}),n.files=[],U(i,function(e){n.files.push(e.file)}),n.total=o,n.loaded=0,n.filesLeft=i.length,e.beforeupload(n,e),t=function(){var u,c=i.shift(),d=c&&c.file,f=!1,p=(u={},U(e,function(e,t){e&&\"object\"==typeof e&&void 0===e.nodeType&&(e=L({},e)),u[t]=e}),u);if(n.filesLeft=i.length,d&&d.name===M.expando&&(d=null,M.log(\"[warn] FileAPI.upload() \\u2014 called without files\")),(\"abort\"!=n.statusText||n.current)&&c){if(l=!1,n.currentFile=d,d&&!1===e.prepare(d,p))return void t.call(r);p.file=d,r._getFormData(p,c,function(l){s||e.upload(n,e);var u=new M.XHR(L({},p,{upload:d?function(){e.fileupload(d,u,p)}:a,progress:d?function(t){f||(f=t.loaded===t.total,e.fileprogress({type:\"progress\",total:c.total=t.total,loaded:c.loaded=t.loaded},d,u,p),e.progress({type:\"progress\",total:o,loaded:n.loaded=s+c.size*(t.loaded/t.total)||0},d,u,p))}:a,complete:function(i){U(_,function(e){n[e]=u[e]}),d&&(c.total=c.total||c.size,c.loaded=c.total,i||(this.progress(c),f=!0,n.loaded=s+=c.size),e.filecomplete(i,u,d,p)),setTimeout(function(){t.call(r)},0)}}));n.abort=function(e){e||(i.length=0),this.current=e,u.abort()},u.send(l)})}else e.complete(!(200==n.status||201==n.status||204==n.status)&&(n.statusText||\"error\"),n,e),l=!0},setTimeout(t,0),n.append=function(e,a){e=M._getFilesDataArray([].concat(e)),U(e,function(e){o+=e.size,n.files.push(e.file),a?i.unshift(e):i.push(e)}),n.statusText=\"\",l&&t.call(r)},n.remove=function(e){for(var t,n=i.length;n--;)i[n].file==e&&(t=i.splice(n,1),o-=t.size);return t},n},_getFilesDataArray:function(e){var t=[],n={};if(J(e)){var i=M.getFiles(e);n[e.name||\"file\"]=null!==e.getAttribute(\"multiple\")?i:i[0]}else P(e)&&J(e[0])?U(e,function(e){n[e.name||\"file\"]=M.getFiles(e)}):n=e;return U(n,function e(n,i){P(n)?U(n,function(t){e(t,i)}):n&&(n.name||n.image)&&t.push({name:i,file:n,size:n.size,total:n.size,loaded:0})}),t.length||t.push({file:{name:M.expando}}),t},_getFormData:function(e,t,n){var i=t.file,r=t.name,a=i.name,o=i.type,s=M.support.transform&&e.imageTransform,l=new M.Form,u=M.queue(function(){n(l)}),c=s&&function(e){var t;for(t in e)if(e.hasOwnProperty(t)&&!(e[t]instanceof Object||\"overlay\"===t||\"filter\"===t))return!0;return!1}(s),d=M.postNameConcat;U(e.data,function e(t,n){\"object\"==typeof t?U(t,function(t,i){e(t,d(n,i))}):l.append(n,t)}),function t(n){n.image?(u.inc(),n.toData(function(e,i){n.file&&(i.type=n.file.type,i.quality=n.matrix.quality,a=n.file&&n.file.name),a=a||(new Date).getTime()+\".png\",t(i),u.next()})):M.Image&&s&&(/^image/.test(n.type)||I.test(n.nodeName))?(u.inc(),c&&(s=[s]),M.Image.transform(n,s,e.imageAutoOrientation,function(t,i){if(c&&!t)x||M.flashEngine||(l.multipart=!0),l.append(r,i[0],a,s[0].type||o);else{var f=0;t||U(i,function(e,t){x||M.flashEngine||(l.multipart=!0),s[t].postName||(f=1),l.append(s[t].postName||d(r,t),e,a,s[t].type||o)}),(t||e.imageOriginal)&&l.append(d(r,f?\"original\":null),n,a,o)}u.next()})):a!==M.expando&&l.append(r,n,a)}(i),u.check()},reset:function(e,t){var n,i;return g?(i=g(e).clone(!0).insertBefore(e).val(\"\")[0],t||g(e).remove()):((i=(n=e.parentNode).insertBefore(e.cloneNode(!0),e)).value=\"\",t||n.removeChild(e),U(S[M.uid(e)],function(t,n){U(t,function(t){z(e,n,t),B(i,n,t)})})),i},load:function(e,t){var n=M.getXHR();return n?(n.open(\"GET\",e,!0),n.overrideMimeType&&n.overrideMimeType(\"text/plain; charset=x-user-defined\"),B(n,\"progress\",function(e){e.lengthComputable&&t({type:e.type,loaded:e.loaded,total:e.total},n)}),n.onreadystatechange=function(){if(4==n.readyState)if(n.onreadystatechange=null,200==n.status){var i={name:(e=e.split(\"/\"))[e.length-1],size:n.getResponseHeader(\"Content-Length\"),type:n.getResponseHeader(\"Content-Type\")};i.dataURL=\"data:\"+i.type+\";base64,\"+M.encode64(n.responseBody||n.responseText),t({type:\"load\",result:i},n)}else t({type:\"error\"},n)},n.send(null)):t({type:\"error\"}),n},encode64:function(e){var t=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",n=\"\",i=0;for(\"string\"!=typeof e&&(e=String(e));i<e.length;){var r,a,o=255&e.charCodeAt(i++),s=255&e.charCodeAt(i++),l=255&e.charCodeAt(i++),u=o>>2,c=(3&o)<<4|s>>4;isNaN(s)?r=a=64:(r=(15&s)<<2|l>>6,a=isNaN(l)?64:63&l),n+=t.charAt(u)+t.charAt(c)+t.charAt(r)+t.charAt(a)}return n}};function q(e,t,n,i,r){var a={type:n.type||n,target:e,result:i};L(a,r),t(a)}function X(e){return h&&!!h.prototype[\"readAs\"+e]}function G(e,n,i,r){if(M.isBlob(e)&&X(i)){var a=new h;B(a,O,function t(i){var r=i.type;\"progress\"==r?q(e,n,i,i.target.result,{loaded:i.loaded,total:i.total}):\"loadend\"==r?(z(a,O,t),a=null):q(e,n,i,i.target.result)});try{r?a[\"readAs\"+i](e,r):a[\"readAs\"+i](e)}catch(o){q(e,n,\"error\",t,{error:o.toString()})}}else q(e,n,\"error\",t,{error:\"filreader_not_support_\"+i})}function W(e){return e&&(e.isFile||e.isDirectory)}function K(e){var t;return e.getAsEntry?t=e.getAsEntry():e.webkitGetAsEntry&&(t=e.webkitGetAsEntry()),t}function J(e){return T.test(e&&e.tagName)}function V(e){return(e.originalEvent||e||\"\").dataTransfer||{}}M.addInfoReader(/^image/,function(e,t){if(!e.__dimensions){var n=e.__dimensions=M.defer();M.readAsImage(e,function(e){var t=e.target;n.resolve(\"load\"!=e.type&&\"error\",{width:t.width,height:t.height}),t.src=M.EMPTY_PNG,t=null})}e.__dimensions.then(t)}),M.event.dnd=function(e,t,n){var i,r;n||(n=t,t=M.F),h?(B(e,\"dragenter dragleave dragover\",t.ff=t.ff||function(e){for(var n=V(e).types,a=n&&n.length,o=!1;a--;)if(~n[a].indexOf(\"File\")){e.preventDefault(),r!==e.type&&(\"dragleave\"!=(r=e.type)&&t.call(e.currentTarget,!0,e),o=!0);break}o&&(clearTimeout(i),i=setTimeout(function(){t.call(e.currentTarget,\"dragleave\"!=r,e)},50))}),B(e,\"drop\",n.ff=n.ff||function(e){e.preventDefault(),r=0,M.getDropFiles(e,function(t,i){n.call(e.currentTarget,t,i,e)}),t.call(e.currentTarget,!1,e)})):M.log(\"Drag'n'Drop -- not supported\")},M.event.dnd.off=function(e,t,n){z(e,\"dragenter dragleave dragover\",t.ff),z(e,\"drop\",n.ff)},g&&!g.fn.dnd&&(g.fn.dnd=function(e,t){return this.each(function(){M.event.dnd(this,e,t)})},g.fn.offdnd=function(e,t){return this.each(function(){M.event.dnd.off(this,e,t)})}),e.FileAPI=L(M,e.FileAPI),M.log(\"FileAPI: \"+M.version),M.log(\"protocol: \"+e.location.protocol),M.log(\"doctype: [\"+s.name+\"] \"+s.publicId+\" \"+s.systemId),U(o.getElementsByTagName(\"meta\"),function(e){/x-ua-compatible/i.test(e.getAttribute(\"http-equiv\"))&&M.log(\"meta.http-equiv: \"+e.getAttribute(\"content\"))});try{n=!!console.log,i=!!console.log.apply}catch(Q){}M.flashUrl||(M.flashUrl=M.staticPath+\"FileAPI.flash.swf\"),M.flashImageUrl||(M.flashImageUrl=M.staticPath+\"FileAPI.flash.image.swf\"),M.flashWebcamUrl||(M.flashWebcamUrl=M.staticPath+\"FileAPI.flash.camera.swf\")}(window,void 0),function(e,t,n){\"use strict\";var i=Math.min,r=Math.round,a=function(){return t.createElement(\"canvas\")},o=!1,s={8:270,3:180,6:90,7:270,4:180,5:90};try{o=a().toDataURL(\"image/png\").indexOf(\"data:image/png\")>-1}catch(u){}function l(t){if(t instanceof l){var n=new l(t.file);return e.extend(n.matrix,t.matrix),n}if(!(this instanceof l))return new l(t);this.file=t,this.size=t.size||100,this.matrix={sx:0,sy:0,sw:0,sh:0,dx:0,dy:0,dw:0,dh:0,resize:0,deg:0,quality:1,filter:0}}l.prototype={image:!0,constructor:l,set:function(t){return e.extend(this.matrix,t),this},crop:function(e,t,i,r){return i===n&&(i=e,r=t,e=t=0),this.set({sx:e,sy:t,sw:i,sh:r||i})},resize:function(e,t,n){return/min|max|height|width/.test(t)&&(n=t,t=e),this.set({dw:e,dh:t||e,resize:n})},preview:function(e,t){return this.resize(e,t||e,\"preview\")},rotate:function(e){return this.set({deg:e})},filter:function(e){return this.set({filter:e})},overlay:function(e){return this.set({overlay:e})},clone:function(){return new l(this)},_load:function(t,n){var i=this;/img|video/i.test(t.nodeName)?n.call(i,null,t):e.readAsImage(t,function(e){n.call(i,\"load\"!=e.type,e.result)})},_apply:function(t,n){var r,o=a(),s=this.getMatrix(t),u=o.getContext(\"2d\"),c=s.deg,d=s.dw,f=s.dh,p=t.videoWidth||t.width,h=t.videoHeight||t.height,m=s.filter,g=t,v=s.overlay,y=e.queue(function(){t.src=e.EMPTY_PNG,n(!1,o)}),w=e.renderImageToCanvas;for(c-=360*Math.floor(c/360),t._type=this.file.type;s.multipass&&i(p/d,h/f)>2;)p=p/2+.5|0,h=h/2+.5|0,(r=a()).width=p,r.height=h,g!==t?(w(r,g,0,0,g.width,g.height,0,0,p,h),g=r):(w(g=r,t,s.sx,s.sy,s.sw,s.sh,0,0,p,h),s.sx=s.sy=s.sw=s.sh=0);o.width=c%180?f:d,o.height=c%180?d:f,o.type=s.type,o.quality=s.quality,u.rotate(c*Math.PI/180),w(u.canvas,g,s.sx,s.sy,s.sw||g.width,s.sh||g.height,180==c||270==c?-d:0,90==c||180==c?-f:0,d,f),d=o.width,f=o.height,v&&e.each([].concat(v),function(t){y.inc();var n=new window.Image,i=function(){var r=0|t.x,a=0|t.y,o=t.w||n.width,s=t.h||n.height,l=t.rel;r=1==l||4==l||7==l?(d-o+r)/2:2==l||5==l||8==l?d-(o+r):r,a=3==l||4==l||5==l?(f-s+a)/2:l>=6?f-(s+a):a,e.event.off(n,\"error load abort\",i);try{u.globalAlpha=t.opacity||1,u.drawImage(n,r,a,o,s)}catch(c){}y.next()};e.event.on(n,\"error load abort\",i),n.src=t.src,n.complete&&i()}),m&&(y.inc(),l.applyFilter(o,m,y.next)),y.check()},getMatrix:function(t){var n,a,o=e.extend({},this.matrix),s=o.sw=o.sw||t.videoWidth||t.naturalWidth||t.width,l=o.sh=o.sh||t.videoHeight||t.naturalHeight||t.height,u=o.dw=o.dw||s,c=o.dh=o.dh||l,d=s/l,f=u/c,p=o.resize;return\"preview\"==p?u==s&&c==l||(f>=d?a=(n=s)/f:n=(a=l)*f,n==s&&a==l||(o.sx=~~((s-n)/2),o.sy=~~((l-a)/2),s=n,l=a)):\"height\"==p?u=c*d:\"width\"==p?c=u/d:p&&(s>u||l>c?\"min\"==p?(u=r(d<f?i(s,u):c*d),c=r(d<f?u/d:i(l,c))):(u=r(d>=f?i(s,u):c*d),c=r(d>=f?u/d:i(l,c))):(u=s,c=l)),o.sw=s,o.sh=l,o.dw=u,o.dh=c,o.multipass=e.multiPassResize,o},_trans:function(t){this._load(this.file,function(n,i){if(n)t(n);else try{this._apply(i,t)}catch(n){e.log(\"[err] FileAPI.Image.fn._apply:\",n),t(n)}})},get:function(t){if(e.support.transform){var n=this,i=n.matrix;\"auto\"==i.deg?e.getInfo(n.file,function(e,r){i.deg=s[r&&r.exif&&r.exif.Orientation]||0,n._trans(t)}):n._trans(t)}else t(\"not_support_transform\");return this},toData:function(e){return this.get(e)}},l.exifOrientation=s,l.transform=function(t,i,r,a){function o(o,s){var u={},c=e.queue(function(e){a(e,u)});o?c.fail():e.each(i,function(e,i){if(!c.isFail()){var a=new l(s.nodeType?s:t),o=\"function\"==typeof e;if(o?e(s,a):e.width?a[e.preview?\"preview\":\"resize\"](e.width,e.height,e.strategy):e.maxWidth&&(s.width>e.maxWidth||s.height>e.maxHeight)&&a.resize(e.maxWidth,e.maxHeight,\"max\"),e.crop){var d=e.crop;a.crop(0|d.x,0|d.y,d.w||d.width,d.h||d.height)}e.rotate===n&&r&&(e.rotate=\"auto\"),a.set({type:a.matrix.type||e.type||t.type||\"image/png\"}),o||a.set({deg:e.rotate,overlay:e.overlay,filter:e.filter,quality:e.quality||1}),c.inc(),a.toData(function(e,t){e?c.fail():(u[i]=t,c.next())})}})}t.width?o(!1,t):e.getInfo(t,o)},e.each([\"TOP\",\"CENTER\",\"BOTTOM\"],function(t,n){e.each([\"LEFT\",\"CENTER\",\"RIGHT\"],function(e,i){l[t+\"_\"+e]=3*n+i,l[e+\"_\"+t]=3*n+i})}),l.toCanvas=function(e){var n=t.createElement(\"canvas\");return n.width=e.videoWidth||e.width,n.height=e.videoHeight||e.height,n.getContext(\"2d\").drawImage(e,0,0),n},l.fromDataURL=function(t,n,i){var r=e.newImage(t);e.extend(r,n),i(r)},l.applyFilter=function(t,n,i){\"function\"==typeof n?n(t,i):window.Caman&&window.Caman(\"IMG\"==t.tagName?l.toCanvas(t):t,function(){\"string\"==typeof n?this[n]():e.each(n,function(e,t){this[t](e)},this),this.render(i)})},e.renderImageToCanvas=function(t,n,i,r,a,o,s,l,u,c){try{return t.getContext(\"2d\").drawImage(n,i,r,a,o,s,l,u,c)}catch(d){throw e.log(\"renderImageToCanvas failed\"),d}},e.support.canvas=e.support.transform=o,e.Image=l}(FileAPI,document),function(e){\"use strict\";!function(e){if(window.navigator&&window.navigator.platform&&/iP(hone|od|ad)/.test(window.navigator.platform)){var t=e.renderImageToCanvas;e.detectSubsampling=function(e){var t,n;return e.width*e.height>1048576&&((t=document.createElement(\"canvas\")).width=t.height=1,(n=t.getContext(\"2d\")).drawImage(e,1-e.width,0),0===n.getImageData(0,0,1,1).data[3])},e.detectVerticalSquash=function(e,t){var n,i,r,a,o=e.naturalHeight||e.height,s=document.createElement(\"canvas\"),l=s.getContext(\"2d\");for(t&&(o/=2),s.width=1,s.height=o,l.drawImage(e,0,0),n=l.getImageData(0,0,1,o).data,i=0,r=o,a=o;a>i;)0===n[4*(a-1)+3]?r=a:i=a,a=r+i>>1;return a/o||1},e.renderImageToCanvas=function(n,i,r,a,o,s,l,u,c,d){if(\"image/jpeg\"===i._type){var f,p,h,m,g=n.getContext(\"2d\"),v=document.createElement(\"canvas\"),y=v.getContext(\"2d\");if(v.width=1024,v.height=1024,g.save(),(f=e.detectSubsampling(i))&&(r/=2,a/=2,o/=2,s/=2),p=e.detectVerticalSquash(i,f),f||1!==p){for(a*=p,c=Math.ceil(1024*c/o),d=Math.ceil(1024*d/s/p),u=0,m=0;m<s;){for(l=0,h=0;h<o;)y.clearRect(0,0,1024,1024),y.drawImage(i,r,a,o,s,-h,-m,o,s),g.drawImage(v,0,0,1024,1024,l,u,c,d),h+=1024,l+=c;m+=1024,u+=d}return g.restore(),n}}return t(n,i,r,a,o,s,l,u,c,d)}}}(FileAPI)}(),function(e,t){\"use strict\";var n=t.document,i=t.FormData,r=function(){this.items=[]},a=t.encodeURIComponent;function o(t,n,i){var r=t.blob,a=t.file;if(a){if(!r.toDataURL)return void e.readAsBinaryString(r,function(e){\"load\"==e.type&&n(t,e.result)});var o={\"image/jpeg\":\".jpe?g\",\"image/png\":\".png\"},s=o[t.type]?t.type:\"image/png\",l=o[s]||\".png\",u=r.quality||1;a.match(new RegExp(l+\"$\",\"i\"))||(a+=l.replace(\"?\",\"\")),t.file=a,t.type=s,!i&&r.toBlob?r.toBlob(function(e){n(t,e)},s,u):n(t,e.toBinaryString(r.toDataURL(s,u)))}else n(t,r)}r.prototype={append:function(e,t,n,i){this.items.push({name:e,blob:t&&t.blob||(null==t?\"\":t),file:t&&(n||t.name),type:t&&(i||t.type)})},each:function(e){for(var t=0,n=this.items.length;t<n;t++)e.call(this,this.items[t])},toData:function(t,n){n._chunked=e.support.chunked&&n.chunkSize>0&&1==e.filter(this.items,function(e){return e.file}).length,e.support.html5?e.formData&&!this.multipart&&i?n._chunked?(e.log(\"FileAPI.Form.toPlainData\"),this.toPlainData(t)):(e.log(\"FileAPI.Form.toFormData\"),this.toFormData(t)):(e.log(\"FileAPI.Form.toMultipartData\"),this.toMultipartData(t)):(e.log(\"FileAPI.Form.toHtmlData\"),this.toHtmlData(t))},_to:function(t,n,i,r){var a=e.queue(function(){n(t)});this.each(function(o){try{i(o,t,a,r)}catch(s){e.log(\"FileAPI.Form._to: \"+s.message),n(s)}}),a.check()},toHtmlData:function(t){this._to(n.createDocumentFragment(),t,function(t,i){var r,a=t.blob;t.file?(e.reset(a,!0),a.name=t.name,a.disabled=!1,i.appendChild(a)):((r=n.createElement(\"input\")).name=t.name,r.type=\"hidden\",r.value=a,i.appendChild(r))})},toPlainData:function(e){this._to({},e,function(e,t,n){e.file&&(t.type=e.file),e.blob.toBlob?(n.inc(),o(e,function(e,i){t.name=e.name,t.file=i,t.size=i.length,t.type=e.type,n.next()})):e.file?(t.name=e.blob.name,t.file=e.blob,t.size=e.blob.size,t.type=e.type):(t.params||(t.params=[]),t.params.push(a(e.name)+\"=\"+a(e.blob))),t.start=-1,t.end=t.file&&t.file.FileAPIReadPosition||-1,t.retry=0})},toFormData:function(e){this._to(new i,e,function(e,t,n){e.blob&&e.blob.toBlob?(n.inc(),o(e,function(e,i){t.append(e.name,i,e.file),n.next()})):e.file?t.append(e.name,e.blob,e.file):t.append(e.name,e.blob),e.file&&t.append(\"_\"+e.name,e.file)})},toMultipartData:function(t){this._to([],t,function(e,t,n,i){n.inc(),o(e,function(e,r){t.push(\"--_\"+i+'\\r\\nContent-Disposition: form-data; name=\"'+e.name+'\"'+(e.file?'; filename=\"'+a(e.file)+'\"':\"\")+(e.file?\"\\r\\nContent-Type: \"+(e.type||\"application/octet-stream\"):\"\")+\"\\r\\n\\r\\n\"+(e.file?r:a(r))+\"\\r\\n\"),n.next()},!0)},e.expando)}},e.Form=r}(FileAPI,window),function(e,t){\"use strict\";var n=function(){},i=e.document,r=function(e){this.uid=t.uid(),this.xhr={abort:n,getResponseHeader:n,getAllResponseHeaders:n},this.options=e},a={\"\":1,XML:1,Text:1,Body:1};r.prototype={status:0,statusText:\"\",constructor:r,getResponseHeader:function(e){return this.xhr.getResponseHeader(e)},getAllResponseHeaders:function(){return this.xhr.getAllResponseHeaders()||{}},end:function(i,r){var a=this,o=a.options;a.end=a.abort=n,a.status=i,r&&(a.statusText=r),t.log(\"xhr.end:\",i,r),o.complete(200!=i&&201!=i&&(a.statusText||\"unknown\"),a),a.xhr&&a.xhr.node&&setTimeout(function(){var t=a.xhr.node;try{t.parentNode.removeChild(t)}catch(n){}try{delete e[a.uid]}catch(n){}e[a.uid]=a.xhr.node=null},9)},abort:function(){this.end(0,\"abort\"),this.xhr&&(this.xhr.aborted=!0,this.xhr.abort())},send:function(e){var t=this,n=this.options;e.toData(function(e){e instanceof Error?t.end(0,e.message):(n.upload(n,t),t._send.call(t,n,e))},n)},_send:function(n,r){var o,s=this,l=s.uid,u=s.uid+\"Load\",c=n.url;if(t.log(\"XHR._send:\",r),n.cache||(c+=(~c.indexOf(\"?\")?\"&\":\"?\")+t.uid()),r.nodeName){var d=n.jsonp;c=c.replace(/([a-z]+)=(\\?)/i,\"$1=\"+l),n.upload(n,s);var f=function(e){if(~c.indexOf(e.origin))try{var n=t.parseJSON(e.data);n.id==l&&p(n.status,n.statusText,n.response)}catch(i){p(0,i.message)}},p=e[l]=function(n,i,r){s.readyState=4,s.responseText=r,s.end(n,i),t.event.off(e,\"message\",f),e[l]=o=m=e[u]=null};s.xhr.abort=function(){try{m.stop?m.stop():m.contentWindow.stop?m.contentWindow.stop():m.contentWindow.document.execCommand(\"Stop\")}catch(e){}p(0,\"abort\")},t.event.on(e,\"message\",f),e[u]=function(){try{var e=m.contentWindow,n=e.result||t.parseJSON(e.document.body.innerHTML);p(n.status,n.statusText,n.response)}catch(i){t.log(\"[transport.onload]\",i)}},(o=i.createElement(\"div\")).innerHTML='<form target=\"'+l+'\" action=\"'+c+'\" method=\"POST\" enctype=\"multipart/form-data\" style=\"position: absolute; top: -1000px; overflow: hidden; width: 1px; height: 1px;\"><iframe name=\"'+l+'\" src=\"javascript:false;\" onload=\"window.'+u+\" && \"+u+'();\"></iframe>'+(d&&n.url.indexOf(\"=?\")<0?'<input value=\"'+l+'\" name=\"'+d+'\" type=\"hidden\"/>':\"\")+\"</form>\";var h=o.getElementsByTagName(\"form\")[0],m=o.getElementsByTagName(\"iframe\")[0];h.appendChild(r),t.log(h.parentNode.innerHTML),i.body.appendChild(o),s.xhr.node=o,s.readyState=2;try{h.submit()}catch(b){t.log(\"iframe.error: \"+b)}h=null}else{if(c=c.replace(/([a-z]+)=(\\?)&?/i,\"\"),this.xhr&&this.xhr.aborted)return void t.log(\"Error: already aborted\");if(o=s.xhr=t.getXHR(),r.params&&(c+=(c.indexOf(\"?\")<0?\"?\":\"&\")+r.params.join(\"&\")),o.open(\"POST\",c,!0),t.withCredentials&&(o.withCredentials=\"true\"),n.headers&&n.headers[\"X-Requested-With\"]||o.setRequestHeader(\"X-Requested-With\",\"XMLHttpRequest\"),t.each(n.headers,function(e,t){o.setRequestHeader(t,e)}),n._chunked){o.upload&&o.upload.addEventListener(\"progress\",t.throttle(function(e){r.retry||n.progress({type:e.type,total:r.size,loaded:r.start+e.loaded,totalSize:r.size},s,n)},100),!1),o.onreadystatechange=function(){var e=parseInt(o.getResponseHeader(\"X-Last-Known-Byte\"),10);if(s.status=o.status,s.statusText=o.statusText,s.readyState=o.readyState,4==o.readyState){for(var i in a)s[\"response\"+i]=o[\"response\"+i];if(o.onreadystatechange=null,!o.status||o.status-201>0)if(t.log(\"Error: \"+o.status),(!o.status&&!o.aborted||500==o.status||416==o.status)&&++r.retry<=n.chunkUploadRetry){var l=o.status?0:t.chunkNetworkDownRetryTimeout;n.pause(r.file,n),t.log(\"X-Last-Known-Byte: \"+e),e?r.end=e:(r.end=r.start-1,416==o.status&&(r.end=r.end-n.chunkSize)),setTimeout(function(){s._send(n,r)},l)}else s.end(o.status);else r.retry=0,r.end==r.size-1?s.end(o.status):(t.log(\"X-Last-Known-Byte: \"+e),e&&(r.end=e),r.file.FileAPIReadPosition=r.end,setTimeout(function(){s._send(n,r)},0));o=null}},r.start=r.end+1,r.end=Math.max(Math.min(r.start+n.chunkSize,r.size)-1,r.start);var g=r.file,v=(g.slice||g.mozSlice||g.webkitSlice).call(g,r.start,r.end+1);r.size&&!v.size?setTimeout(function(){s.end(-1)}):(o.setRequestHeader(\"Content-Range\",\"bytes \"+r.start+\"-\"+r.end+\"/\"+r.size),o.setRequestHeader(\"Content-Disposition\",\"attachment; filename=\"+encodeURIComponent(r.name)),o.setRequestHeader(\"Content-Type\",r.type||\"application/octet-stream\"),o.send(v)),g=v=null}else if(o.upload&&o.upload.addEventListener(\"progress\",t.throttle(function(e){n.progress(e,s,n)},100),!1),o.onreadystatechange=function(){if(s.status=o.status,s.statusText=o.statusText,s.readyState=o.readyState,4==o.readyState){for(var e in a)s[\"response\"+e]=o[\"response\"+e];if(o.onreadystatechange=null,!o.status||o.status>201)if(t.log(\"Error: \"+o.status),(!o.status&&!o.aborted||500==o.status)&&(n.retry||0)<n.uploadRetry){n.retry=(n.retry||0)+1;var i=t.networkDownRetryTimeout;n.pause(n.file,n),setTimeout(function(){s._send(n,r)},i)}else s.end(o.status);else s.end(o.status);o=null}},t.isArray(r)){o.setRequestHeader(\"Content-Type\",\"multipart/form-data; boundary=_\"+t.expando);var y=r.join(\"\")+\"--_\"+t.expando+\"--\";if(o.sendAsBinary)o.sendAsBinary(y);else{var w=Array.prototype.map.call(y,function(e){return 255&e.charCodeAt(0)});o.send(new Uint8Array(w).buffer)}}else o.send(r)}}},t.XHR=r}(window,FileAPI),function(e,t){\"use strict\";var n=e.URL||e.webkitURL,i=e.document,r=e.navigator,a=r.getUserMedia||r.webkitGetUserMedia||r.mozGetUserMedia||r.msGetUserMedia,o=!!a;t.support.media=o;var s,l,u,c,d=function(e){this.video=e};d.prototype={isActive:function(){return!!this._active},start:function(e){var o,s,l=this,u=l.video,c=function(t){l._active=!t,clearTimeout(s),clearTimeout(o),e&&e(t,l)};a.call(r,{video:!0},function(e){l.stream=e,u.src=n.createObjectURL(e),o=setInterval(function(){(function(e){var n,r=i.createElement(\"canvas\"),a=!1;try{(n=r.getContext(\"2d\")).drawImage(e,0,0,1,1),a=255!=n.getImageData(0,0,1,1).data[4]}catch(o){t.log(\"[FileAPI.Camera] detectVideoSignal:\",o)}return a})(u)&&c(null)},1e3),s=setTimeout(function(){c(\"timeout\")},5e3),u.play()},c)},stop:function(){try{this._active=!1,this.video.pause();try{this.stream.stop()}catch(e){t.each(this.stream.getTracks(),function(e){e.stop()})}this.stream=null}catch(e){t.log(\"[FileAPI.Camera] stop:\",e)}},shot:function(){return new f(this.video)}},d.get=function(e){return new d(e.firstChild)},d.publish=function(n,r,a){\"function\"==typeof r&&(a=r,r={}),r=t.extend({},{width:\"100%\",height:\"100%\",start:!0},r),n.jquery&&(n=n[0]);var s=function(e){if(e)a(e);else{var t=d.get(n);r.start?t.start(a):a(null,t)}};if(n.style.width=p(r.width),n.style.height=p(r.height),t.html5&&o&&!t.insecureChrome){var l=i.createElement(\"video\");l.style.width=p(r.width),l.style.height=p(r.height),e.jQuery?jQuery(n).empty():n.innerHTML=\"\",n.appendChild(l),s()}else d.fallback(n,r,s)},d.fallback=function(e,t,n){n(\"not_support_camera\")},d.checkAlreadyCaptured=(u=e.MediaStreamTrack,c=r.enumerateDevices,s=(l=r.mediaDevices)&&l.enumerateDevices?function(e){l.enumerateDevices().then(e)}:u&&u.getSources?u.getSources.bind(u):c?c.bind(r):function(e){e([])},function(e){s(function(t){var n=t.some(function(e){return(\"videoinput\"===e.kind||\"video\"===e.kind)&&e.label});e(n)})});var f=function(e){var n=e.nodeName?t.Image.toCanvas(e):e,i=t.Image(n);return i.type=\"image/png\",i.width=n.width,i.height=n.height,i.size=n.width*n.height*4,i};function p(e){return e>=0?e+\"px\":e}d.Shot=f,t.Camera=d}(window,FileAPI),function(e,t,n){\"use strict\";var i=e.document,r=e.location,a=e.navigator,o=n.each;n.support.flash=function(){var t=a.mimeTypes,i=!1;if(a.plugins&&\"object\"==typeof a.plugins[\"Shockwave Flash\"])i=a.plugins[\"Shockwave Flash\"].description&&!(t&&t[\"application/x-shockwave-flash\"]&&!t[\"application/x-shockwave-flash\"].enabledPlugin);else try{i=!(!e.ActiveXObject||!new ActiveXObject(\"ShockwaveFlash.ShockwaveFlash\"))}catch(o){n.log(\"Flash -- does not supported.\")}return i&&/^file:/i.test(r)&&n.log(\"[warn] Flash does not work on `file:` protocol.\"),i}(),n.support.flash&&(!n.html5||!n.support.html5||n.cors&&!n.support.cors||n.media&&!n.support.media||n.insecureChrome)&&function(){var s=n.uid(),l=0,u={},c=/^https?:/i,d={_fn:{},init:function(){var e=i.body&&i.body.firstChild;if(e)do{if(1==e.nodeType){n.log(\"FlashAPI.state: awaiting\");var t=i.createElement(\"div\");return t.id=\"_\"+s,p(t,{top:1,right:1,width:5,height:5,position:\"absolute\",zIndex:\"2147483647\"}),e.parentNode.insertBefore(t,e),void d.publish(t,s)}}while(e=e.nextSibling);l<10&&setTimeout(d.init,50*++l)},publish:function(e,t,i){i=i||{},e.innerHTML=f({id:t,src:y(n.flashUrl,\"r=\"+n.version),wmode:i.camera?\"\":\"transparent\",flashvars:\"callback=\"+(i.onEvent||\"FileAPI.Flash.onEvent\")+\"&flashId=\"+t+\"&storeKey=\"+a.userAgent.match(/\\d/gi).join(\"\")+\"_\"+n.version+(d.isReady||(n.pingUrl?\"&ping=\"+n.pingUrl:\"\"))+\"&timeout=\"+n.flashAbortTimeout+(i.camera?\"&useCamera=\"+y(n.flashWebcamUrl):\"\")+\"&debug=\"+(n.debug?\"1\":\"\")})},ready:function(){n.log(\"FlashAPI.state: ready\"),d.ready=n.F,d.isReady=!0,d.patch(),d.patchCamera&&d.patchCamera(),n.event.on(i,\"mouseover\",d.mouseover),n.event.on(i,\"click\",function(e){d.mouseover(e)&&(e.preventDefault?e.preventDefault():e.returnValue=!0)})},getEl:function(){return i.getElementById(\"_\"+s)},getWrapper:function(e){do{if(/js-fileapi-wrapper/.test(e.className))return e}while((e=e.parentNode)&&e!==i.body)},mouseover:function(t){var r=n.event.fix(t).target;if(/input/i.test(r.nodeName)&&\"file\"==r.type&&!r.disabled){var a=r.getAttribute(s),o=d.getWrapper(r);if(n.multiFlash){if(\"i\"==a||\"r\"==a)return!1;if(\"p\"!=a){r.setAttribute(s,\"i\");var l=i.createElement(\"div\");if(!o)return void n.log(\"[err] FlashAPI.mouseover: js-fileapi-wrapper not found\");p(l,{top:0,left:0,width:r.offsetWidth,height:r.offsetHeight,zIndex:\"2147483647\",position:\"absolute\"}),o.appendChild(l),d.publish(l,n.uid()),r.setAttribute(s,\"p\")}return!0}if(o){var u=function(t){var n=t.getBoundingClientRect(),r=i.body,a=(t&&t.ownerDocument).documentElement;return{top:n.top+(e.pageYOffset||a.scrollTop)-(a.clientTop||r.clientTop||0),left:n.left+(e.pageXOffset||a.scrollLeft)-(a.clientLeft||r.clientLeft||0),width:n.right-n.left,height:n.bottom-n.top}}(o);p(d.getEl(),u),d.curInp=r}}else/object|embed/i.test(r.nodeName)||p(d.getEl(),{top:1,left:1,width:5,height:5})},onEvent:function(e){var t=e.type;if(\"ready\"==t){try{d.getInput(e.flashId).setAttribute(s,\"r\")}catch(i){}return d.ready(),setTimeout(function(){d.mouseenter(e)},50),!0}\"ping\"===t?n.log(\"(flash -> js).ping:\",[e.status,e.savedStatus],e.error):\"log\"===t?n.log(\"(flash -> js).log:\",e.target):t in d&&setTimeout(function(){n.log(\"FlashAPI.event.\"+e.type+\":\",e),d[t](e)},1)},mouseenter:function(e){var t=d.getInput(e.flashId);if(t){d.cmd(e,\"multiple\",null!=t.getAttribute(\"multiple\"));var i=[],r={};o((t.getAttribute(\"accept\")||\"\").split(/,\\s*/),function(e){n.accept[e]&&o(n.accept[e].split(\" \"),function(e){r[e]=1})}),o(r,function(e,t){i.push(t)}),d.cmd(e,\"accept\",i.length?i.join(\",\")+\",\"+i.join(\",\").toUpperCase():\"*\")}},get:function(t){return i[t]||e[t]||i.embeds[t]},getInput:function(e){if(!n.multiFlash)return d.curInp;try{var t=d.getWrapper(d.get(e));if(t)return t.getElementsByTagName(\"input\")[0]}catch(i){n.log('[err] Can not find \"input\" by flashId:',e,i)}},select:function(e){var r,a=d.getInput(e.flashId),s=n.uid(a),l=e.target.files;o(l,function(e){n.checkFileObj(e)}),u[s]=l,i.createEvent?((r=i.createEvent(\"Event\")).files=l,r.initEvent(\"change\",!0,!0),a.dispatchEvent(r)):t?t(a).trigger({type:\"change\",files:l}):((r=i.createEventObject()).files=l,a.fireEvent(\"onchange\",r))},cmd:function(e,t,i,r){try{return n.log(\"(js -> flash).\"+t+\":\",i),d.get(e.flashId||e).cmd(t,i)}catch(a){n.log(\"(js -> flash).onError:\",a.toString()),r||setTimeout(function(){d.cmd(e,t,i,!0)},50)}},patch:function(){n.flashEngine=!0,h(n,{getFiles:function(e,t,i){if(i)return n.filterFiles(n.getFiles(e),t,i),null;var r=n.isArray(e)?e:u[n.uid(e.target||e.srcElement||e)];return r?(t&&(t=n.getFilesFilter(t),r=n.filter(r,function(e){return t.test(e.name)})),r):this.parent.apply(this,arguments)},getInfo:function(e,t){if(m(e))this.parent.apply(this,arguments);else if(e.isShot)t(null,e.info={width:e.width,height:e.height});else{if(!e.__info){var i=e.__info=n.defer();d.cmd(e,\"getFileInfo\",{id:e.id,callback:g(function t(n,r){v(t),i.resolve(n,e.info=r)})})}e.__info.then(t)}}}),n.support.transform=!0,n.Image&&h(n.Image.prototype,{get:function(e,t){return this.set({scaleMode:t||\"noScale\"}),this.parent(e)},_load:function(e,t){if(n.log(\"FlashAPI.Image._load:\",e),m(e))this.parent.apply(this,arguments);else{var i=this;n.getInfo(e,function(n){t.call(i,n,e)})}},_apply:function(e,t){if(n.log(\"FlashAPI.Image._apply:\",e),m(e))this.parent.apply(this,arguments);else{var i=this.getMatrix(e.info),r=t;d.cmd(e,\"imageTransform\",{id:e.id,matrix:i,callback:g(function a(o,s){n.log(\"FlashAPI.Image._apply.callback:\",o),v(a),o?r(o):n.support.html5||n.support.dataURI&&!(s.length>3e4)?(i.filter&&(r=function(e,r){e?t(e):n.Image.applyFilter(r,i.filter,function(){t(e,this.canvas)})}),n.newImage(\"data:\"+e.type+\";base64,\"+s,r)):w({width:i.deg%180?i.dh:i.dw,height:i.deg%180?i.dw:i.dh,scale:i.scaleMode},s,r)})})}},toData:function(e){var t=this.file,i=t.info,r=this.getMatrix(i);n.log(\"FlashAPI.Image.toData\"),m(t)?this.parent.apply(this,arguments):(\"auto\"==r.deg&&(r.deg=n.Image.exifOrientation[i&&i.exif&&i.exif.Orientation]||0),e.call(this,!t.info,{id:t.id,flashId:t.flashId,name:t.name,type:t.type,matrix:r}))}}),n.Image&&h(n.Image,{fromDataURL:function(e,t,i){!n.support.dataURI||e.length>3e4?w(n.extend({scale:\"exactFit\"},t),e.replace(/^data:[^,]+,/,\"\"),function(e,t){i(t)}):this.parent(e,t,i)}}),h(n.Form.prototype,{toData:function(e){for(var t=this.items,i=t.length;i--;)if(t[i].file&&m(t[i].blob))return this.parent.apply(this,arguments);n.log(\"FlashAPI.Form.toData\"),e(t)}}),h(n.XHR.prototype,{_send:function(e,t){if(t.nodeName||t.append&&n.support.html5||n.isArray(t)&&\"string\"==typeof t[0])return this.parent.apply(this,arguments);var i,r,a={},l={},u=this;if(o(t,function(e){var t;e.file?(l[e.name]=e={id:(t=e.blob).id,name:t.name,matrix:t.matrix,flashId:t.flashId},r=e.id,i=e.flashId):a[e.name]=e.blob}),r||(i=s),!i)return n.log(\"[err] FlashAPI._send: flashId -- undefined\"),this.parent.apply(this,arguments);n.log(\"FlashAPI.XHR._send: \"+i+\" -> \"+r),u.xhr={headers:{},abort:function(){d.cmd(i,\"abort\",{id:r})},getResponseHeader:function(e){return this.headers[e]},getAllResponseHeaders:function(){return this.headers}};var c=n.queue(function(){d.cmd(i,\"upload\",{url:y(e.url.replace(/([a-z]+)=(\\?)&?/i,\"\")),data:a,files:r?l:null,headers:e.headers||{},callback:g(function t(i){var r=i.type,a=i.result;n.log(\"FlashAPI.upload.\"+r),\"progress\"==r?(i.loaded=Math.min(i.loaded,i.total),i.lengthComputable=!0,e.progress(i)):\"complete\"==r?(v(t),\"string\"==typeof a&&(u.responseText=a.replace(/%22/g,'\"').replace(/%5c/g,\"\\\\\").replace(/%26/g,\"&\").replace(/%25/g,\"%\")),u.end(i.status||200)):\"abort\"!=r&&\"error\"!=r||(u.end(i.status||0,i.message),v(t))})})});o(l,function(e){c.inc(),n.getInfo(e,c.next)}),c.check()}})}};function f(e){return('<object id=\"#id#\" classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" width=\"'+(e.width||\"100%\")+'\" height=\"'+(e.height||\"100%\")+'\"><param name=\"movie\" value=\"#src#\" /><param name=\"flashvars\" value=\"#flashvars#\" /><param name=\"swliveconnect\" value=\"true\" /><param name=\"allowscriptaccess\" value=\"always\" /><param name=\"allownetworking\" value=\"all\" /><param name=\"menu\" value=\"false\" /><param name=\"wmode\" value=\"#wmode#\" /><embed flashvars=\"#flashvars#\" swliveconnect=\"true\" allownetworking=\"all\" allowscriptaccess=\"always\" name=\"#id#\" src=\"#src#\" width=\"'+(e.width||\"100%\")+'\" height=\"'+(e.height||\"100%\")+'\" menu=\"false\" wmode=\"transparent\" type=\"application/x-shockwave-flash\"></embed></object>').replace(/#(\\w+)#/gi,function(t,n){return e[n]})}function p(e,t){var n,i;if(e&&e.style)for(n in t){\"number\"==typeof(i=t[n])&&(i+=\"px\");try{e.style[n]=i}catch(r){}}}function h(e,t){o(t,function(t,n){var i=e[n];e[n]=function(){return this.parent=i,t.apply(this,arguments)}})}function m(e){return e&&!e.flashId}function g(e){var t=e.wid=n.uid();return d._fn[t]=e,\"FileAPI.Flash._fn.\"+t}function v(e){try{d._fn[e.wid]=null,delete d._fn[e.wid]}catch(t){}}function y(e,t){if(!c.test(e)){if(/^\\.\\//.test(e)||\"/\"!=e.charAt(0)){var n=r.pathname;e=((n=n.substr(0,n.lastIndexOf(\"/\")))+\"/\"+e).replace(\"/./\",\"/\")}\"//\"!=e.substr(0,2)&&(e=\"//\"+r.host+e),c.test(e)||(e=r.protocol+e)}return t&&(e+=(/\\?/.test(e)?\"&\":\"?\")+t),e}function w(e,t,r){var a,o=n.uid(),s=i.createElement(\"div\"),l=10;for(a in e)s.setAttribute(a,e[a]),s[a]=e[a];p(s,e),e.width=\"100%\",e.height=\"100%\",s.innerHTML=f(n.extend({id:o,src:y(n.flashImageUrl,\"r=\"+n.uid()),wmode:\"opaque\",flashvars:\"scale=\"+e.scale+\"&callback=\"+g(function e(){return v(e),--l>0&&function(){try{d.get(o).setImage(t)}catch(e){n.log('[err] FlashAPI.Preview.setImage -- can not set \"base64\":',e)}}(),!0})},e)),r(!1,s),s=null}n.Flash=d,n.newImage(\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==\",function(e,t){n.support.dataURI=!(1!=t.width||1!=t.height),d.init()})}()}(window,window.jQuery,FileAPI),function(e,t,n){\"use strict\";var i=n.each,r=[];!n.support.flash||!n.media||n.support.media&&n.html5&&!n.insecureChrome||function(){function e(e){var t=e.wid=n.uid();return n.Flash._fn[t]=e,\"FileAPI.Flash._fn.\"+t}function t(e){try{n.Flash._fn[e.wid]=null,delete n.Flash._fn[e.wid]}catch(t){}}var a=n.Flash;n.extend(n.Flash,{patchCamera:function(){n.Camera.fallback=function(i,r,o){var s=n.uid();n.log(\"FlashAPI.Camera.publish: \"+s),a.publish(i,s,n.extend(r,{camera:!0,onEvent:e(function e(i){\"camera\"===i.type&&(t(e),i.error?(n.log(\"FlashAPI.Camera.publish.error: \"+i.error),o(i.error)):(n.log(\"FlashAPI.Camera.publish.success: \"+s),o(null)))})}))},i(r,function(e){n.Camera.fallback.apply(n.Camera,e)}),r=[],n.extend(n.Camera.prototype,{_id:function(){return this.video.id},start:function(i){var r=this;a.cmd(this._id(),\"camera.on\",{callback:e(function e(a){t(e),a.error?(n.log(\"FlashAPI.camera.on.error: \"+a.error),i(a.error,r)):(n.log(\"FlashAPI.camera.on.success: \"+r._id()),r._active=!0,i(null,r))})})},stop:function(){this._active=!1,a.cmd(this._id(),\"camera.off\")},shot:function(){n.log(\"FlashAPI.Camera.shot:\",this._id());var e=n.Flash.cmd(this._id(),\"shot\",{});return e.type=\"image/png\",e.flashId=this._id(),e.isShot=!0,new n.Camera.Shot(e)}})}}),n.Camera.fallback=function(){r.push(arguments)}}()}(window,window,FileAPI),void 0===(i=(function(){return FileAPI}).apply(t,[]))||(e.exports=i)},WmEL:function(e,t,n){\"use strict\";n.d(t,\"a\",function(){return i});var i=function(){function e(){this.fileInputs=[]}return e.prototype.add=function(e){return this.fileInputs.push({id:e,currentFiles:[]}),!0},e.prototype.remove=function(e){for(var t=0;this.fileInputs.length;t++)if(this.fileInputs[t].id===e)return this.fileInputs.splice(t,1),t=this.fileInputs.length,!0;return!1},e.prototype.reset=function(e){return this.getFileInput(e).currentFiles=[],!0},e.prototype.addFiles=function(e,t){var n=this,i=this.getFileInput(e),r=[];return t.forEach(function(e){n.addFile(e,i.currentFiles)||r.push(e)}),r},e.prototype.removeFiles=function(e,t){var n=this,i=this.getFileInput(e),r=[];return t.forEach(function(e){n.removeFile(e,i.currentFiles)||r.push(e)}),r},e.prototype.getFileInput=function(e){for(var t=0;this.fileInputs.length;t++)if(this.fileInputs[t].id===e)return this.fileInputs[t]},e.prototype.addFile=function(e,t){return t.push(e),!0},e.prototype.removeFile=function(e,t){for(var n=0;t.length;n++)if(this.isSameFile(e,t[n]))return t.splice(n,1),n=t.length,!0;return!1},e.prototype.isSameFile=function(e,t){return e.name===t.name&&e.size===t.size&&e.type===t.type},e}()},e371:function(e,t,n){\"use strict\";n(\"WmEL\"),n(\"nOdk\");var i=n(\"CcnG\"),r=(n(\"rw6U\"),n(\"oTnA\"),n(\"sF0A\"),n(\"rliy\"));n.d(t,\"b\",function(){return a}),n.d(t,\"c\",function(){return o}),n.d(t,\"a\",function(){return s});var a=new i.InjectionToken(\"ng2 file input custom user options\");function o(e){var t=new r.a;return Object.assign(t,e),t}var s=function(){function e(){}return e.forRoot=function(t){return void 0===t&&(t={}),{ngModule:e,providers:[{provide:a,useValue:t},{provide:r.a,useFactory:o,deps:[a]}]}},e}()},nOdk:function(e,t,n){\"use strict\";n.d(t,\"a\",function(){return i}),n(\"WmEL\");var i=function(){function e(e){this.fileInputHandlerService=e}return e.prototype.reset=function(e){return this.fileInputHandlerService.reset(e)},e.prototype.remove=function(e,t){return this.fileInputHandlerService.removeFiles(e,t)},e.prototype.add=function(e,t){return this.fileInputHandlerService.addFiles(e,t)},e.prototype.getCurrentFiles=function(e){var t=this.fileInputHandlerService.getFileInput(e);return t?t.currentFiles:[]},e}()},oTnA:function(e,t,n){\"use strict\";n.d(t,\"a\",function(){return r}),n(\"mrSG\"),n(\"8nGR\");var i=n(\"CcnG\"),r=function(){function e(e){this.fileOver=new i.EventEmitter,this.onFileDrop=new i.EventEmitter,this.element=e}return e.prototype.onDragOver=function(e){var t=this.getDataTransfer(e);this.haveFiles(t.types)&&(t.dropEffect=\"copy\",this.preventAndStop(e),this.emitFileOver(!0))},e.prototype.onDragLeave=function(e){e.currentTarget!==this.element[0]&&(this.preventAndStop(e),this.emitFileOver(!1))},e.prototype.onDrop=function(e){var t=this.getDataTransfer(e);if(t){this.preventAndStop(e),this.emitFileOver(!1);for(var n=0;n<t.files.length;n++)this.readFile(t.files[n])}},e.prototype.readFile=function(e){var t=this,n=this.pickStrategy();n?FileAPI[\"readAs\"+n](e,function(n){if(\"load\"===n.type)t.emitFileDrop(n.result);else if(\"error\"===n.type)throw new Error(\"Couldn't read file '\"+e.name+\"'\")}):this.emitFileDrop(e)},e.prototype.emitFileOver=function(e){this.fileOver.emit(e)},e.prototype.emitFileDrop=function(e){this.onFileDrop.emit(e)},e.prototype.pickStrategy=function(){if(this.options)return this.hasStrategy(this.options.readAs)?this.options.readAs:void 0},e.prototype.hasStrategy=function(e){return-1!==[\"DataURL\",\"BinaryString\",\"ArrayBuffer\",\"Text\"].indexOf(e)},e.prototype.getDataTransfer=function(e){return e.dataTransfer?e.dataTransfer:e.originalEvent.dataTransfer},e.prototype.preventAndStop=function(e){e.preventDefault(),e.stopPropagation()},e.prototype.haveFiles=function(e){return!!e&&(e.indexOf?-1!==e.indexOf(\"Files\"):!!e.contains&&e.contains(\"Files\"))},e}()},rMXk:function(e,t,n){\"use strict\";var i=n(\"CcnG\"),r=n(\"ZYCi\"),a=n(\"Ip0R\");n(\"3zLz\"),n.d(t,\"a\",function(){return o}),n.d(t,\"b\",function(){return s});var o=i[\"\\u0275crt\"]({encapsulation:0,styles:[[\"\"]],data:{}});function s(e){return i[\"\\u0275vid\"](0,[(e()(),i[\"\\u0275eld\"](0,0,null,null,13,\"div\",[[\"class\",\"row\"]],null,null,null,null,null)),(e()(),i[\"\\u0275eld\"](1,0,null,null,12,\"div\",[[\"class\",\"col-xl-12\"]],null,null,null,null,null)),(e()(),i[\"\\u0275eld\"](2,0,null,null,1,\"h2\",[[\"class\",\"page-header\"]],null,null,null,null,null)),(e()(),i[\"\\u0275ted\"](3,null,[\" \",\" \"])),(e()(),i[\"\\u0275eld\"](4,0,null,null,9,\"ol\",[[\"class\",\"breadcrumb\"]],null,null,null,null,null)),(e()(),i[\"\\u0275eld\"](5,0,null,null,5,\"li\",[[\"class\",\"breadcrumb-item\"]],null,null,null,null,null)),(e()(),i[\"\\u0275eld\"](6,0,null,null,0,\"i\",[[\"class\",\"fa fa-dashboard\"]],null,null,null,null,null)),(e()(),i[\"\\u0275eld\"](7,0,null,null,3,\"a\",[[\"href\",\"Javascript:void(0)\"]],[[1,\"target\",0],[8,\"href\",4]],[[null,\"click\"]],function(e,t,n){var r=!0;return\"click\"===t&&(r=!1!==i[\"\\u0275nov\"](e,8).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),i[\"\\u0275did\"](8,671744,null,0,r.o,[r.l,r.a,a.l],{routerLink:[0,\"routerLink\"]},null),i[\"\\u0275pad\"](9,1),(e()(),i[\"\\u0275ted\"](-1,null,[\"Dashboard\"])),(e()(),i[\"\\u0275eld\"](11,0,null,null,2,\"li\",[[\"class\",\"breadcrumb-item active\"]],null,null,null,null,null)),(e()(),i[\"\\u0275eld\"](12,0,null,null,0,\"i\",[],[[8,\"className\",0]],null,null,null,null)),(e()(),i[\"\\u0275ted\"](13,null,[\" \",\"\"]))],function(e,t){var n=e(t,9,0,\"/dashboard\");e(t,8,0,n)},function(e,t){var n=t.component;e(t,3,0,n.heading),e(t,7,0,i[\"\\u0275nov\"](t,8).target,i[\"\\u0275nov\"](t,8).href),e(t,12,0,i[\"\\u0275inlineInterpolate\"](1,\"fa \",n.icon,\"\")),e(t,13,0,n.heading)})}},rliy:function(e,t,n){\"use strict\";n.d(t,\"a\",function(){return i});var i=function(){return function(){this.dropText=\"Drop file here\",this.browseText=\"Browse\",this.removeText=\"Remove\",this.invalidFileText=\"You have picked an invalid or disallowed file.\",this.invalidFileTimeout=8e3,this.removable=!0,this.multiple=!1,this.accept=\"\",this.showPreviews=!0,this.extensions=[]}}()},rw6U:function(e,t,n){\"use strict\";n.d(t,\"a\",function(){return i}),n(\"mrSG\"),n(\"oTnA\");var i=function(){return function(){}}()},sF0A:function(e,t,n){\"use strict\";n(\"WmEL\");var i=n(\"CcnG\"),r=(n(\"rliy\"),function(e){return e[e.Removed=0]=\"Removed\",e[e.Added=1]=\"Added\",e[e.InvalidDenied=2]=\"InvalidDenied\",e[e.CouldNotRemove=3]=\"CouldNotRemove\",e[e.CouldNotAdd=4]=\"CouldNotAdd\",e}({}));n.d(t,\"a\",function(){return a});var a=function(){function e(e,t,n){this.fileInputHandlerService=e,this.sanitizer=t,this.defaultOptions=n,this.alreadyEmitted=!1,this.fileIsOver=!1,this.invalidFile=!1,this.multiple=null,this.removable=null,this.showPreviews=null,this.outputAction=new i.EventEmitter,this.outputRemoved=new i.EventEmitter,this.outputAdded=new i.EventEmitter,this.outputInvalidDenied=new i.EventEmitter,this.outputCouldNotRemove=new i.EventEmitter,this.outputCouldNotAdd=new i.EventEmitter}return e.prototype.ngOnInit=function(){this.dropText=this.dropText||this.defaultOptions.dropText,this.browseText=this.browseText||this.defaultOptions.browseText,this.removeText=this.removeText||this.defaultOptions.removeText,this.invalidFileText=this.invalidFileText||this.defaultOptions.invalidFileText,this.invalidFileTimeout=this.invalidFileTimeout||this.defaultOptions.invalidFileTimeout,this.multiple=null!==this.multiple?this.multiple:this.defaultOptions.multiple,this.accept=null!==this.accept?this.accept:this.defaultOptions.accept,this.removable=null!==this.removable?this.removable:this.defaultOptions.removable,this.showPreviews=null!==this.showPreviews?this.showPreviews:this.defaultOptions.showPreviews,this.extensions=this.extensions||this.defaultOptions.extensions,void 0!==this.id&&this.id&&null!==this.id||(this.id=this.generateId()),this.fileInputHandlerService.add(this.id)},e.prototype.ngOnDestroy=function(){this.fileInputHandlerService.remove(this.id)},e.prototype.fileOver=function(e){this.fileIsOver=e},e.prototype.onFileDrop=function(e){var t=this;this.multiple?this.handleFile(e):this.alreadyEmitted||(this.alreadyEmitted=!0,this.handleFile(e),setTimeout(function(){t.alreadyEmitted=!1},0))},e.prototype.fileSelected=function(e){this.invalidFile=!1;var t=e.target.files;if(t&&t.length)if(this.multiple)for(var n=0;n<t.length;n++)this.handleFile(t[n]);else this.handleFile(t[0]);setTimeout(function(){e.target.value=\"\"},0)},e.prototype.getCurrentFiles=function(){var e=this.fileInputHandlerService.getFileInput(this.id);return e?e.currentFiles:[]},e.prototype.removeFile=function(e){if(this.removable){var t=this.fileInputHandlerService.removeFiles(this.id,[e]);this.emitOutput(e,0===t.length?r.Removed:r.CouldNotRemove)}},e.prototype.getObjectUrl=function(e){return this.sanitizer.bypassSecurityTrustResourceUrl(window.URL.createObjectURL(e))},e.prototype.handleFile=function(e){if(this.isValidFile(e)){this.multiple||this.fileInputHandlerService.reset(this.id);var t=this.fileInputHandlerService.addFiles(this.id,[e]);this.emitOutput(e,0===t.length?r.Added:r.CouldNotAdd)}else this.emitOutput(e,r.InvalidDenied)},e.prototype.emitOutput=function(e,t){switch(this.outputAction.emit({id:this.id,currentFiles:this.getCurrentFiles(),action:t,file:e}),t){case r.Added:this.outputAdded.emit({id:this.id,currentFiles:this.getCurrentFiles(),file:e});break;case r.Removed:this.outputRemoved.emit({id:this.id,currentFiles:this.getCurrentFiles(),file:e});break;case r.InvalidDenied:this.outputInvalidDenied.emit({id:this.id,currentFiles:this.getCurrentFiles(),file:e});break;case r.CouldNotAdd:this.outputCouldNotAdd.emit({id:this.id,currentFiles:this.getCurrentFiles(),file:e});break;case r.CouldNotRemove:this.outputCouldNotRemove.emit({id:this.id,currentFiles:this.getCurrentFiles(),file:e})}},e.prototype.isValidFile=function(e){var t=this;if(this.extensions.length>0){var n=e.name.split(\".\").pop();if(-1!==this.extensions.indexOf(\"image/jpg\")&&-1===this.extensions.indexOf(\"image/jpeg\")&&this.extensions.push(\"image/jpeg\"),-1===this.extensions.indexOf(e.type)&&-1===this.extensions.indexOf(n))return this.invalidFile=!0,0!==this.invalidFileTimeout&&setTimeout(function(){t.invalidFile=!1},this.invalidFileTimeout),!1}return!0},e.prototype.generateId=function(){return\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return(\"x\"==e?t:3&t|8).toString(16)})},e}()}}]);","extractedComments":[]}